var q=Object.defineProperty,Z=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var S=(e,r,a)=>r in e?q(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,p=(e,r)=>{for(var a in r||(r={}))Y.call(r,a)&&S(e,a,r[a]);if(b)for(var a of b(r))Q.call(r,a)&&S(e,a,r[a]);return e},g=(e,r)=>Z(e,G(r));import{c as J,a as X,R as t,T as x,b as y,d as D,u as _,r as l,B as u,C as ee,e as te,A as ne,L as re,f as I,F as ae,g as oe,h as se,t as w,i as ie,j as ce,E as le,I as ue,k as me,l as de,m as pe,n as he,M as fe,s as Ee,o as ge,S as P,H as R,p as C,q as xe,v as ye,P as De,w as we}from"./vendor.3ff8e5a0.js";const Ce=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}};Ce();const T="UPDATE_USERINFO",ve="RESET_USERINFO",k="UPDATE_APP_SLIDE_BAR",Be={menuList:[],openKey:"",openDrawer:!0},_e=(e=Be,r)=>{switch(r.type){case k:return p(p({},e),r.slideBarState);default:return e}},$={token:"",name:""},Fe=(e=$,r)=>{switch(r.type){case T:return r.userInfo;case ve:return $;default:return e}};var Ae=J({userInfo:Fe,AppSlideBar:_e}),be=X(Ae);const Se=function(){return t.createElement(x,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xA9 ",t.createElement("a",{color:"inherit",href:"https://github.com/happy-func/"},"Happy-func")," ",new Date().getFullYear(),".")},L=e=>r=>e.test(r),Ie=L(/^[A-Za-z][a-zA-Z0-9_]{3,9}$/),Pe=L(/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)])+$).{6,18}$/),F="remember_user_name",O="react_admin_token",U="admin_name",M=e=>({userInfo:e,type:T}),N=e=>({slideBarState:e,type:k}),z={expires:7},H=()=>y.get(O),Re=e=>y.set(O,e,z),Te=()=>y.get(U),ke=e=>y.set(U,e,z),$e=({doUpdateUserInfo:e})=>{const r=_(),[a,s]=l.exports.useState(!1),[n,o]=l.exports.useState("admin"),[i,m]=l.exports.useState("h57nMRtQn7aBjt");function h(){if(!n)return w.error("\u8BF7\u8F93\u5165\u7528\u6237\u540D");if(!Ie(n))return w.error("\u7528\u6237\u540D\u4EC5\u652F\u6301\u6570\u5B57\u3001\u5B57\u6BCD\u548C\u4E0B\u5212\u7EBF\u4E14\u53EA\u80FD\u4EE5\u5B57\u6BCD\u5F00\u5934\uFF0C\u957F\u5EA6\u57284\u523010\u4E4B\u95F4");if(!i)return w.error("\u8BF7\u8F93\u5165\u5BC6\u7801");if(!Pe(i))return w.error("\u5BC6\u7801\u957F\u5EA6\u57286-18\u4E4B\u95F4\uFF0C\u81F3\u5C11\u5305\u542B\u6570\u5B57\u3001\u5B57\u6BCD\u3001\u7279\u6B8A\u5B57\u7B26\u4E24\u79CD");a?localStorage.setItem(F,n):localStorage.removeItem(F);const c=Math.random().toString(16);Re(c),ke(n),e({name:n,token:c}),r.push("/dashBord")}function f(c){s(c.target.checked)}function E(c){m(c.target.value)}function d(c){const{target:{value:W}}=c;o(W)}return l.exports.useEffect(function(){const c=localStorage.getItem(F);o(c||""),s(!!c)},[]),t.createElement(u,{sx:{height:"100vh",overflow:"hidden",width:"100%",backgroundColor:"#b1ecd7ed"}},t.createElement(ee,{component:"main",maxWidth:"xs"},t.createElement(te,null),t.createElement(u,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"}},t.createElement(ne,{sx:{margin:1,backgroundColor:c=>c.palette.secondary.main}},t.createElement(re,null)),t.createElement(x,{component:"h1",variant:"h5"},"\u767B \u5F55"),t.createElement(u,{component:"form",sx:{width:"100%",marginTop:c=>c.spacing(1)},noValidate:!0},t.createElement(I,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"\u7528\u6237\u540D",name:"username",autoComplete:"username",value:n,onChange:d}),t.createElement(I,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"\u5BC6\u7801",type:"password",id:"password",autoComplete:"current-password",value:i,onChange:E}),t.createElement(ae,{control:t.createElement(oe,{checked:a,onChange:f,value:"remember",color:"primary"}),label:"\u8BB0\u4F4F\u6211"}),t.createElement(se,{fullWidth:!0,variant:"contained",color:"primary",sx:{margin:c=>c.spacing(3,0,2)},onClick:h},"\u767B \u5F55"))),t.createElement(u,{mt:8},t.createElement(Se,null))))},Le=()=>({}),Oe=e=>({doUpdateUserInfo:r=>e(M(r))});var Ue=D(Le,Oe)($e);function V({route:e,open:r=!0,onSelect:a}){var n;const s=()=>{var o;return!((o=e.children)==null?void 0:o.length)&&a&&a(e.name)};return t.createElement(ie,{disableGutters:!0,sx:{boxShadow:"none","& ::before":{opacity:0}}},t.createElement(ce,{expandIcon:r&&((n=e.children)==null?void 0:n.length)&&t.createElement(le,null),onClick:s},!!e.meta.icon&&t.createElement(ue,null,e.meta.icon),r&&t.createElement(x,null,e.meta.title)),Array.isArray(e.children)&&t.createElement(me,{sx:{paddingRight:0}},e.children.map(o=>t.createElement(V,{route:o,open:r,key:o.name,onSelect:a}))))}const Me="modulepreload",j={},Ne="/vite-react/",v=function(r,a){return!a||a.length===0?r():Promise.all(a.map(s=>{if(s=`${Ne}${s}`,s in j)return;j[s]=!0;const n=s.endsWith(".css"),o=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${o}`))return;const i=document.createElement("link");if(i.rel=n?"stylesheet":Me,n||(i.as="script",i.crossOrigin=""),i.href=s,document.head.appendChild(i),n)return new Promise((m,h)=>{i.addEventListener("load",m),i.addEventListener("error",h)})})).then(()=>r())},K=function({children:e}){return t.createElement(t.Fragment,null,e)},A=[{name:"DashBord",path:"/dashBord",exact:!0,component:l.exports.lazy(()=>v(()=>import("./index.e4bdd2d7.js"),["assets/index.e4bdd2d7.js","assets/index.6d6f3af6.css","assets/vendor.3ff8e5a0.js"])),meta:{icon:"dashboard",title:"\u63A7\u5236\u53F0"}},{name:"AccountManage",path:"/accountManage",exact:!0,component:l.exports.lazy(()=>v(()=>import("./index.b691c372.js"),["assets/index.b691c372.js","assets/vendor.3ff8e5a0.js"])),meta:{icon:"badge",title:"\u8D26\u53F7\u7BA1\u7406"}},{name:"Child",path:"/child",exact:!0,component:K,meta:{icon:"golf_course",title:"\u6D4B\u8BD5\u5B50\u7EA7"},children:[{name:"ChildEl",path:"/child",exact:!1,component:l.exports.lazy(()=>v(()=>import("./Child.62217537.js"),["assets/Child.62217537.js","assets/vendor.3ff8e5a0.js"])),meta:{title:"\u5B50\u9875\u9762"}},{name:"ChildEmpty",path:"/deep",exact:!1,component:K,meta:{title:"\u6DF1\u5C42"},children:[{name:"DeepChildren",path:"/page",exact:!1,component:l.exports.lazy(()=>v(()=>import("./Deep.c0cae36d.js"),["assets/Deep.c0cae36d.js","assets/vendor.3ff8e5a0.js"])),meta:{title:"\u5D4C\u5957"}}]}]}],B=240,ze=80,He=function({AppSlideBar:e,doUpdateAppSlideBar:r}){function a(){r(g(p({},e),{openDrawer:!e.openDrawer}))}return t.createElement(de,{position:"fixed",sx:{transition:s=>s.transitions.create(["margin","width"],{easing:e.openDrawer?s.transitions.easing.easeOut:s.transitions.easing.sharp,duration:e.openDrawer?s.transitions.duration.enteringScreen:s.transitions.duration.leavingScreen}),width:e.openDrawer?`calc(100% - ${B}px)`:"100%",zIndex:1201,marginLeft:e.openDrawer?0:B}},t.createElement(pe,null,t.createElement(he,{color:"inherit","aria-label":"open drawer",onClick:a,edge:"start",sx:{marginRight:36}},t.createElement(fe,null)),t.createElement(x,{variant:"h6",noWrap:!0,sx:{flex:1}})))},Ve=e=>({AppSlideBar:e.AppSlideBar}),je=e=>({doUpdateAppSlideBar:r=>e(N(r))});var Ke=D(Ve,je)(He);const We=function({AppSlideBar:e,doUpdateAppSlideBar:r}){const a=_();function s(n){if(e.openKey!==n){r(g(p({},e),{openKey:n}));const o=function i(m,h=""){var E;let f="";for(const d of m){if(d.name===n)return h+d.path;((E=d.children)==null?void 0:E.length)&&(f=i(d.children,h+d.path))}return f}(A);a.push(o||"dashBord")}else r(g(p({},e),{openKey:""}))}return t.createElement(u,{sx:{width:e.openDrawer?B:80,height:"100vh",flexShrink:0,transition:n=>n.transitions.create(["width"],{easing:e.openDrawer?n.transitions.easing.easeOut:n.transitions.easing.sharp,duration:e.openDrawer?n.transitions.duration.enteringScreen:n.transitions.duration.leavingScreen})}},t.createElement(u,{sx:{width:`${e.openDrawer?B:ze}px`,height:"100vh",position:"fixed",left:0,top:0,zIndex:89,transition:n=>n.transitions.create(["width"],{easing:e.openDrawer?n.transitions.easing.easeOut:n.transitions.easing.sharp,duration:e.openDrawer?n.transitions.duration.enteringScreen:n.transitions.duration.leavingScreen})}},t.createElement(u,{sx:{height:"62px",lineHeight:"62px",fontSize:"20px",backgroundColor:"#3f51b5",color:"#fff",textAlign:"center"}},e.openDrawer&&"SYSTEM \u7BA1\u7406\u540E\u53F0"),A.map(n=>t.createElement(V,{route:n,key:n.name,open:!!e.openDrawer,onSelect:s}))))},qe=e=>({AppSlideBar:e.AppSlideBar}),Ze=e=>({doUpdateAppSlideBar:r=>e(N(r))});var Ge=D(qe,Ze)(We);const Ye=Ee(u)(({theme:e})=>p({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar)),Qe=({children:e})=>t.createElement(u,{sx:{display:"flex",width:"100vw"}},t.createElement(Ke,null),t.createElement(Ge,null),t.createElement(u,{sx:{flexGrow:1,padding:r=>r.spacing(3),position:"relative",overflow:"hidden"}},t.createElement(Ye,null),e)),Je="_loadingBox_qqgg2_1";var Xe={loadingBox:Je};const et=function(e){return e.error?t.createElement("div",null,"\u52A0\u8F7D\u5931\u8D25! ",t.createElement("button",{onClick:e.retry},"\u91CD\u65B0\u52A0\u8F7D")):t.createElement("div",{className:Xe.loadingBox},t.createElement(ge.PacmanLoader,null))},tt=({userInfo:e,doUpdateUserInfo:r})=>{const a=_();l.exports.useEffect(()=>{e.token||(H()?r({name:Te(),token:H()}):a.push("/login"))},[e.token]);const s=({route:n,parentPath:o})=>{var i;return t.createElement(t.Fragment,null,t.createElement(C,{path:`${o||""}${n.path}`,component:n.component,exact:!!n.exact}),!!((i=n.children)==null?void 0:i.length)&&n.children.map(m=>t.createElement(s,{key:m.name,route:m,parentPath:`${o||""}${n.path}`})))};return t.createElement(Qe,null,t.createElement(l.exports.Suspense,{fallback:t.createElement(et,null)},t.createElement(P,null,t.createElement(R,null,t.createElement(C,{path:"/",exact:!0},t.createElement(xe,{to:"/dashBord"})),A.map(n=>t.createElement(s,{key:n.name,route:n}))))))},nt=e=>({userInfo:e.userInfo}),rt=e=>({doUpdateUserInfo:r=>e(M(r))});var at=D(nt,rt)(tt);const ot=()=>t.createElement(R,null,t.createElement(P,null,t.createElement(C,{path:"/login"},t.createElement(Ue,null)),t.createElement(C,{path:"/"},t.createElement(at,null)))),st=()=>t.createElement(ot,null);ye.render(t.createElement(t.Fragment,null,t.createElement(De,{store:be},t.createElement(st,null),t.createElement(we,{position:"top-center",autoClose:2e3,closeOnClick:!0,pauseOnFocusLoss:!0}))),document.getElementById("root"));
